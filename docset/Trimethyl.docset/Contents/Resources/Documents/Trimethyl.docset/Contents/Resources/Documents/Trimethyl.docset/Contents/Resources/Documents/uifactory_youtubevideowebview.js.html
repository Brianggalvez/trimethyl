<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: uifactory/youtubevideowebview.js</title>
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main" class="nonav">

    <h1 class="page-title">Source: uifactory/youtubevideowebview.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module  uifactory/youtubevideowebview
 * @author  Flavio De Stefano &lt;flavio.destefano@caffeinalab.com>
 *
 * View that contain a Youtube video. Internally use a WebView to provide the content.
 *
 * To provide the Video ID, you need to pass to the `videoId` property.
 * All property set in the `youtube` property are passed into the Youtube API.
 *
 * On iOS, clicking on the video cause the video to play in native iOS player in fullscreen.
 *
 * More info at [https://developers.google.com/youtube/iframe_api_reference](https://developers.google.com/youtube/iframe_api_reference)
 *
 */

module.exports = function(args) {
	_.defaults(args, {

		width: Alloy.Globals.SCREEN_WIDTH,
		height: Alloy.Globals.SCREEN_WIDTH * (3/4),

		/**
		 * @property {String} videoId ID of Youtube video.
		 */
		videoId: null,

		/**
		 * @property {Object} [youtube={}] Properties for YT Web Player API.
		 */
		youtube: {}

	});
	_.extend(args, {
		disableBounce : true,
		willHandleTouches : true,
		showScrollbars : false,
		scalesPageToFit : false,
		hideLoadIndicator : true,
		enableZoomControls : false,
	},
	OS_ANDROID ? {
		overScrollMode : Ti.UI.Android.OVER_SCROLL_NEVER,
		pluginState : Ti.UI.Android.WEBVIEW_PLUGINS_ON
	} : {}
	);

	var yt = _.extend(_.pick(args, 'videoId'), args.youtube);
	if (yt.width == null) yt.width = args.width;
	if (yt.height == null) yt.height = args.height;

	args.height = +args.height + 5; // The height of the WebView must be just a little higher to prevent the scrolling inside
	var $this = Ti.UI.createWebView(args);

	var html = '&lt;!doctype html>&lt;html>&lt;head>';
	html += '&lt;meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />';
	html += '&lt;style>html,body{padding:0;background:black;margin:0;overflow:hidden;}&lt;/style>';
	html += '&lt;/head>&lt;body>&lt;div id="player">&lt;/div>';
	html += '&lt;script src="http://www.youtube.com/player_api">&lt;/script>';
	html += '&lt;script>function onYouTubePlayerAPIReady() { window.player = new YT.Player("player",' + JSON.stringify(yt) + '); }&lt;/script>';
	html += '&lt;/body>&lt;/html>';
	$this.html = html;

	return $this;
};</code></pre>
        </article>
    </section>




</div>



<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
